#include <iostream>
#include <string>
#include <cstdlib>
#include <unistd.h>
#include <iomanip>
#include "MemoryMatchGame.h"
using namespace std;

void memoryMatchGame :: start(){
    //start interface
    basicSelect();
    popDisplayTerms();
    
    startTimer();
    
    //this are the functions repeated for gameplay
    do{
        gameDisplay();
        firstSelected();
        updateDisplay(selected1X, selected1Y);
        gameDisplay();
        secondSelected();
        updateDisplay(selected2X, selected2Y);
        gameDisplay();
        turnComplete();
        pauseTime();
    }while(status != displayArraySize*displayArraySize/2);
    
    cout<<endl<<endl<<endl<<"Congratulations, you've won!!"<<endl;
    cout<<"Time taken ";
    getTime();
}
    
void memoryMatchGame::basicSelect(){
    chooseGroup();
    chooseLevel();
    chooseSpeed();
}


void memoryMatchGame::startTimer(){
    sleep(1);
    
    sec = sec + 1;
    
    if(sec == 60){
        sec = 0;
        min = min + 1;
        if(min == 60){
            min = 0;
            hour = hour + 1;
        }
    }
}

void memoryMatchGame::getTime(){
    cout<<setw(2)<<setfill('0')<<hour<<":"<<setw(2)<<min<<":"<<setw(2)<<sec<<endl<<endl;
}

